(this.webpackJsonpmy_webapp=this.webpackJsonpmy_webapp||[]).push([[0],{26:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=26},29:function(e,t){},34:function(e,t,a){e.exports=a(62)},40:function(e,t,a){},45:function(e,t,a){},48:function(e,t){},49:function(e,t){},50:function(e,t){},51:function(e,t){},52:function(e,t){},53:function(e,t){},54:function(e,t){},62:function(e,t,a){"use strict";a.r(t);a(35);var n=a(1),r=a.n(n),l=a(14),i=a.n(l),s=a(67),c=a(3),o=a(4),u=a(6),d=a(5),m=a(32),h=a(9),p=a(10),f=a(64),v=(a(40),{selectedAnimalFood:{},selectedPerson:{},selectedIssueAssignment:{}}),g=a(7),b=a.n(g),y=a(31),E=a(8),k=a(21),A="returnUrl",S="message",w="logout-callback",C="logout",F="logged-out",I="login",O="login-callback",P="login-failed",j="profile",x="register",N="/authentication",R={DefaultLoginRedirectPath:"/",ApiAuthorizationClientConfigurationUrl:"/_configuration/".concat("KhInventoryAuth"),ApiAuthorizationPrefix:N,Login:"".concat(N,"/").concat(I),LoginFailed:"".concat(N,"/").concat(P),LoginCallback:"".concat(N,"/").concat(O),Register:"".concat(N,"/").concat(x),Profile:"".concat(N,"/").concat(j),LogOut:"".concat(N,"/").concat(C),LoggedOut:"".concat(N,"/").concat(F),LogOutCallback:"".concat(N,"/").concat(w),IdentityRegisterPath:"/Identity/Account/Register",IdentityManagePath:"/Identity/Account/Manage"},L=new(function(){function e(){Object(c.a)(this,e),this._callbacks=[],this._nextSubscriptionId=0,this._user=null,this._isAuthenticated=!1,this._popUpDisabled=!0}return Object(o.a)(e,[{key:"isAuthenticated",value:function(){var e=Object(E.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUser();case 2:return t=e.sent,e.abrupt("return",!!t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(E.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._user||!this._user.profile){e.next=2;break}return e.abrupt("return",this._user.profile);case 2:return e.next=4,this.ensureUserManagerInitialized();case 4:return e.next=6,this.userManager.getUser();case 6:return t=e.sent,e.abrupt("return",t&&t.profile);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccessToken",value:function(){var e=Object(E.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureUserManagerInitialized();case 2:return e.next=4,this.userManager.getUser();case 4:return t=e.sent,e.abrupt("return",t&&t.access_token);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"signIn",value:function(){var e=Object(E.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureUserManagerInitialized();case 2:return e.prev=2,e.next=5,this.userManager.signinSilent(this.createArguments());case 5:return a=e.sent,this.updateState(a),e.abrupt("return",this.success(t));case 10:if(e.prev=10,e.t0=e.catch(2),console.log("Silent authentication error: ",e.t0),e.prev=13,!this._popUpDisabled){e.next=16;break}throw new Error("Popup disabled. Change 'AuthorizeService.js:AuthorizeService._popupDisabled' to false to enable it.");case 16:return e.next=18,this.userManager.signinPopup(this.createArguments());case 18:return n=e.sent,this.updateState(n),e.abrupt("return",this.success(t));case 23:if(e.prev=23,e.t1=e.catch(13),"Popup window closed"!==e.t1.message){e.next=29;break}return e.abrupt("return",this.error("The user closed the window."));case 29:this._popUpDisabled||console.log("Popup authentication error: ",e.t1);case 30:return e.prev=30,e.next=33,this.userManager.signinRedirect(this.createArguments(t));case 33:return e.abrupt("return",this.redirect());case 36:return e.prev=36,e.t2=e.catch(30),console.log("Redirect authentication error: ",e.t2),e.abrupt("return",this.error(e.t2));case 40:case"end":return e.stop()}}),e,this,[[2,10],[13,23],[30,36]])})));return function(t){return e.apply(this,arguments)}}()},{key:"completeSignIn",value:function(){var e=Object(E.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.ensureUserManagerInitialized();case 3:return e.next=5,this.userManager.signinCallback(t);case 5:return a=e.sent,this.updateState(a),e.abrupt("return",this.success(a&&a.state));case 10:return e.prev=10,e.t0=e.catch(0),console.log("There was an error signing in: ",e.t0),e.abrupt("return",this.error("There was an error signing in."));case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(E.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureUserManagerInitialized();case 2:if(e.prev=2,!this._popUpDisabled){e.next=5;break}throw new Error("Popup disabled. Change 'AuthorizeService.js:AuthorizeService._popupDisabled' to false to enable it.");case 5:return e.next=7,this.userManager.signoutPopup(this.createArguments());case 7:return this.updateState(void 0),e.abrupt("return",this.success(t));case 11:return e.prev=11,e.t0=e.catch(2),console.log("Popup signout error: ",e.t0),e.prev=14,e.next=17,this.userManager.signoutRedirect(this.createArguments(t));case 17:return e.abrupt("return",this.redirect());case 20:return e.prev=20,e.t1=e.catch(14),console.log("Redirect signout error: ",e.t1),e.abrupt("return",this.error(e.t1));case 24:case"end":return e.stop()}}),e,this,[[2,11],[14,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"completeSignOut",value:function(){var e=Object(E.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureUserManagerInitialized();case 2:return e.prev=2,e.next=5,this.userManager.signoutCallback(t);case 5:return a=e.sent,this.updateState(null),e.abrupt("return",this.success(a&&a.data));case 10:return e.prev=10,e.t0=e.catch(2),console.log("There was an error trying to log out '".concat(e.t0,"'.")),e.abrupt("return",this.error(e.t0));case 14:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateState",value:function(e){this._user=e,this._isAuthenticated=!!this._user,this.notifySubscribers()}},{key:"subscribe",value:function(e){return this._callbacks.push({callback:e,subscription:this._nextSubscriptionId++}),this._nextSubscriptionId-1}},{key:"unsubscribe",value:function(e){var t=this._callbacks.map((function(t,a){return t.subscription===e?{found:!0,index:a}:{found:!1}})).filter((function(e){return!0===e.found}));if(1!==t.length)throw new Error("Found an invalid number of subscriptions ".concat(t.length));this._callbacks.splice(t[0].index,1)}},{key:"notifySubscribers",value:function(){for(var e=0;e<this._callbacks.length;e++){(0,this._callbacks[e].callback)()}}},{key:"createArguments",value:function(e){return{useReplaceToNavigate:!0,data:e}}},{key:"error",value:function(e){return{status:T.Fail,message:e}}},{key:"success",value:function(e){return{status:T.Success,state:e}}},{key:"redirect",value:function(){return{status:T.Redirect}}},{key:"ensureUserManagerInitialized",value:function(){var e=Object(E.a)(b.a.mark((function e(){var t,a,n=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.userManager){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch(R.ApiAuthorizationClientConfigurationUrl);case 4:if((t=e.sent).ok){e.next=7;break}throw new Error("Could not load settings for '".concat("KhInventoryAuth","'"));case 7:return e.next=9,t.json();case 9:(a=e.sent).automaticSilentRenew=!0,a.includeIdTokenInSilentRenew=!0,a.userStore=new k.WebStorageStateStore({prefix:"KhInventoryAuth"}),this.userManager=new k.UserManager(a),this.userManager.events.addUserSignedOut(Object(E.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.userManager.removeUser();case 2:n.updateState(void 0);case 3:case"end":return e.stop()}}),e)}))));case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"instance",get:function(){return L}}]),e}()),M=L,T={Redirect:"redirect",Success:"success",Fail:"fail"},U=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isAuthenticated:!1,userName:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this._subscription=M.subscribe((function(){return e.populateState()})),this.populateState()}},{key:"componentWillUnmount",value:function(){M.unsubscribe(this._subscription)}},{key:"populateState",value:function(){var e=Object(E.a)(b.a.mark((function e(){var t,a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([M.isAuthenticated(),M.getUser()]);case 2:t=e.sent,a=Object(y.a)(t,2),n=a[0],r=a[1],this.setState({isAuthenticated:n,userName:r&&r.name});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isAuthenticated,a=e.userName;if(t){var n="".concat(R.Profile),r={pathname:"".concat(R.LogOut),state:{local:!0}};return this.authenticatedView(a,n,r)}var l="".concat(R.Register),i="".concat(R.Login);return this.anonymousView(l,i)}},{key:"authenticatedView",value:function(e,t,a){return r.a.createElement(n.Fragment,null,r.a.createElement(h.c,null,r.a.createElement(h.d,{tag:f.a,className:"text-dark",to:a},"\u062e\u0631\u0648\u062c \u0627\u0632 \u0633\u06cc\u0633\u062a\u0645")))}},{key:"anonymousView",value:function(e,t){return r.a.createElement(n.Fragment,null,r.a.createElement(h.c,null,r.a.createElement(h.d,{tag:f.a,className:"text-dark",to:e},"Register")),r.a.createElement(h.c,null,r.a.createElement(h.d,{tag:f.a,className:"text-dark",to:t},"Login")))}}]),a}(n.Component),D=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).toggleNavbar=n.toggleNavbar.bind(Object(p.a)(n)),n.state={collapsed:!0},n}return Object(o.a)(a,[{key:"toggleNavbar",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement(h.e,{className:"navbar-expand-sm navbar-toggleable-sm ng-white border-bottom box-shadow mb-3",light:!0},r.a.createElement(h.b,null,r.a.createElement(h.f,{tag:f.a,to:"/"},"\u0627\u0646\u0628\u0627\u0631"),r.a.createElement(h.g,{onClick:this.toggleNavbar,className:"mr-2"}),r.a.createElement(h.a,{className:"d-sm-inline-flex flex-sm-row-reverse",isOpen:!this.state.collapsed,navbar:!0},r.a.createElement("ul",{className:"navbar-nav flex-grow"},r.a.createElement(h.c,null,r.a.createElement(U,null)),r.a.createElement(h.c,null,r.a.createElement(h.d,{"data-testid":"IssueAssignmentList",tag:f.a,className:"text-dark",to:"/IssueAssignmentList",onClick:function(){v.selectedAnimalFood=null}}," ","\u0644\u06cc\u0633\u062a \u062d\u0648\u0627\u0644\u0647 \u0647\u0627")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"text-dark nav-link",href:"/Dashboard/index",target:"_blank"},"\u0644\u06cc\u0633\u062a \u062a\u0648\u0632\u06cc\u0639")),r.a.createElement(h.c,null,r.a.createElement(h.d,{"data-testid":"BuyAnimalFoodList",tag:f.a,className:"text-dark",to:"/BuyAnimalFoodList",onClick:function(){v.selectedAnimalFood=null}}," ","\u0644\u06cc\u0633\u062a \u062e\u0631\u06cc\u062f \u0646\u0647\u0627\u062f\u0647"," ")),r.a.createElement(h.c,null,r.a.createElement(h.d,{"data-testid":"InventoryStatus",tag:f.a,className:"text-dark",to:"/InventoryStatus"},"\u0648\u0636\u0639\u06cc\u062a \u0627\u0646\u0628\u0627\u0631")),r.a.createElement(h.c,null,r.a.createElement(h.d,{"data-testid":"animalFoods",tag:f.a,className:"text-dark",to:"/AnimalFoodPage"},"\u0646\u0647\u0627\u062f\u0647 \u0647\u0627")))))))}}]),a}(n.Component);D.displayName=D.name;var q=a(65),B=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"issueAssignmentProcess",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),a}(n.Component);B.displayName=B.name;var _=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"issueAssignmentProcess",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"mynav",style:{paddingTop:"20px",paddingBottom:"20px"}},r.a.createElement(q.a,{render:function(e){var t=e.history;return r.a.createElement("button",{type:"button",className:"btn btn-info",style:{direction:"rtl"},"data-testid":"IssueAssignment",onClick:function(){t.push("/IssueAssignment")}},"\u0635\u062f\u0648\u0631 \u062d\u0648\u0627\u0644\u0647 (\u062e\u0631\u0648\u062c \u0627\u0632 \u0627\u0646\u0628\u0627\u0631)")}}),r.a.createElement(q.a,{render:function(e){var t=e.history;return r.a.createElement("button",{style:{direction:"rtl",float:"right"},type:"button",className:"btn btn-info","data-testid":"BuyAnimalFood",onClick:function(){t.push("/BuyAnimalFood")}},"\u062e\u0631\u06cc\u062f (\u0648\u0631\u0648\u062f \u06a9\u0627\u0644\u0627 \u0628\u0647 \u0627\u0646\u0628\u0627\u0631)")}}))}}]),a}(n.Component);_.displayName=B.name;var Q=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(D,null),r.a.createElement(h.b,null,r.a.createElement(_,null),this.props.children,r.a.createElement("div",{style:{marginTop:"150px"}})))}}]),a}(n.Component);Q.displayName=Q.name;var V=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={forecasts:[],loading:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.populateWeatherData()}},{key:"render",value:function(){var e=this.state.loading?r.a.createElement("p",null,r.a.createElement("em",null,"Loading...")):a.renderForecastsTable(this.state.forecasts);return r.a.createElement("div",null,r.a.createElement("h1",{id:"tabelLabel"},"Weather forecast"),r.a.createElement("p",null,"This component demonstrates fetching data from the server."),e)}},{key:"populateWeatherData",value:function(){var e=Object(E.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("weatherforecast");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({forecasts:a,loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"renderForecastsTable",value:function(e){return r.a.createElement("table",{className:"table table-striped","aria-labelledby":"tabelLabel"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Temp. (C)"),r.a.createElement("th",null,"Temp. (F)"),r.a.createElement("th",null,"Summary"))),r.a.createElement("tbody",null,e.map((function(e){return r.a.createElement("tr",{key:e.date},r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.temperatureC),r.a.createElement("td",null,e.temperatureF),r.a.createElement("td",null,e.summary))}))))}}]),a}(n.Component);V.displayName=V.name;var z=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={currentCount:0},n.incrementCounter=n.incrementCounter.bind(Object(p.a)(n)),n}return Object(o.a)(a,[{key:"incrementCounter",value:function(){this.setState({currentCount:this.state.currentCount+1})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Counter"),r.a.createElement("p",null,"This is a simple example of a React component."),r.a.createElement("p",{"aria-live":"polite"},"Current count: ",r.a.createElement("strong",null,this.state.currentCount)),r.a.createElement("button",{className:"btn btn-primary",onClick:this.incrementCounter},"Increment"))}}]),a}(n.Component);z.displayName=z.name;a(45);var K=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,"\u0635\u0641\u062d\u0647 \u062a\u0646\u0638\u06cc\u0645\u0627\u062a")}}]),a}(n.Component),W=a(30),J=!1;function G(e){var t=e.toString().split(",");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(",")}var H=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,[{key:"getAll",value:function(e){return e||(e=""),J?this.getAllDebug():this.getAllReal(e)}},{key:"getAllDebug",value:function(){return new Promise((function(e,t){var a=[];a.push({Name:"\u0645\u062d\u0645\u062f \u0633\u0644\u0627\u0645\u06cc",Id:1}),a.push({Name:"\u0639\u0628\u0627\u0633 \u0627\u06cc\u0631\u0627\u0646\u06cc",Id:2}),a.push({Name:"\u0633\u0639\u06cc\u062f \u0646\u0627\u0645\u062c\u0648 \u0645\u0637\u0644\u0642",Id:3}),e({Status:1,EntityList:a})}))}},{key:"getAllReal",value:function(e){return fetch("/Person/Search?searchTerm="+e).then((function(e){return e.json()}))}},{key:"save",value:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("/Person",t).then((function(e){return e.json()}))}}]),e}(),X=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={person:{MilliCode:n.props.MilliCode},miliCodeIsValid:!1},n.handleChange=n.handleChange.bind(Object(p.a)(n)),n}return Object(o.a)(a,[{key:"handleChange",value:function(e,t){this.state.person[t]=e.target.value,e.target.value&&e.target.value.length,this.state.person[t+"IsValid"]=!1,this.setState({rdm:Math.random()})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{class:"form-row"},r.a.createElement("div",{class:"col-md-4 mb-3"},r.a.createElement("label",{for:"validationServer01"},"\u0646\u0627\u0645 \u0648 \u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc"),r.a.createElement("input",{type:"text",class:"form-control is-valid",id:"validationServer01",placeholder:"\u0646\u0627\u0645 \u0648 \u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc",onChange:function(t){e.handleChange(t,"Name")},value:this.state.person.Name,required:!0}),Z()),r.a.createElement("div",{class:"col-md-4 mb-3"},r.a.createElement("label",{for:"validationServer02"},"\u06a9\u062f \u0645\u0644\u06cc "),r.a.createElement("input",{type:"text",class:"form-control is-valid",id:"validationServer02",placeholder:"\u06a9\u062f \u0645\u0644\u06cc",onChange:function(t){e.handleChange(t,"MilliCode")},value:this.state.person.MilliCode,required:!0}),Z()),r.a.createElement("div",{class:"col-md-4 mb-3"},r.a.createElement("label",{for:"validationServer02"},"\u0634\u0645\u0627\u0631\u0647 \u0645\u0648\u0628\u0627\u06cc\u0644"),r.a.createElement("input",{type:"text",class:"form-control is-valid",id:"validationServer02",placeholder:"\u0634\u0645\u0627\u0631\u0647 \u0645\u0648\u0628\u0627\u06cc\u0644",onChange:function(t){e.handleChange(t,"Mobile")},value:this.state.person.Mobile,required:!0}),Z())),r.a.createElement("button",{onClick:function(){e.props.saveCallback&&e.props.saveCallback(e.state.person)}},"\u0634\u062e\u0635 \u062c\u062f\u06cc\u062f"))}}]),a}(n.Component),Y=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={persons:[],value:"",miliCodeIsValid:!1},n.handleChange=n.handleChange.bind(Object(p.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.refreshPersons("")}},{key:"refreshPersons",value:function(e){var t=this;(new H).getAll(e).then((function(e){1==e.Status?t.setState({persons:e.EntityList}):alert(e.Message)})).catch((function(e){alert("\u062e\u0637\u0627 \u062f\u0631 \u0633\u06cc\u0633\u062a\u0645")}))}},{key:"handleChange",value:function(e){this.setState({value:e.target.value}),e.target.value&&10===e.target.value.length?this.setState({miliCodeIsValid:!0}):this.setState({miliCodeIsValid:!1}),this.refreshPersons(e.target.value)}},{key:"render",value:function(){return r.a.createElement("div",{className:"was-validated"},r.a.createElement("div",{className:"md-form mt-0 "},r.a.createElement("label",null,"\u06a9\u062f \u0645\u0644\u06cc \u0645\u0634\u062a\u0631\u06cc \u0631\u0627 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f"),r.a.createElement("input",{value:this.state.value,onChange:this.handleChange,className:"form-control",type:"text",placeholder:"Search","aria-label":"Search",size:"10",minLength:"10",maxLength:"10",required:"required","data-testid":"search-personnel"}),Z(this.state.miliCodeIsValid,"\u06a9\u062f \u0645\u0644\u06cc \u0628\u0627\u06cc\u0633\u062a\u06cc \u062f\u0647 \u0631\u0642\u0645 \u0628\u0627\u0634\u062f \u0648\u0639\u062f\u062f \u0628\u0627\u0634\u062f")),r.a.createElement("br",null),r.a.createElement("ul",{className:"list-group",id:"myList"},this.renderNewPersonForm(),this.renderExistPersonProposal()))}},{key:"renderNewPersonForm",value:function(){var e=this;return r.a.createElement("li",{className:"list-group-item"},r.a.createElement(X,{MilliCode:this.state.value,saveCallback:function(t){(new H).save(t).then((function(a){if(1==a.Status)if(J){var n=Object(W.a)(e.state.persons);n.push(t),e.setState({persons:n.reverse()})}else e.refreshPersons(e.state.value);else alert(a.Message)}))}}))}},{key:"renderExistPersonProposal",value:function(){var e=this;return this.state.persons?this.state.persons.map((function(t,a,n){return r.a.createElement(m.a,{render:function(n){n.history;return r.a.createElement("li",{style:{direction:"rtl"},"data-testid":"person-"+a,className:"list-group-item",onClick:function(){v.selectedPerson=t,e.props.parent.setState({step:2,PersonId:t.Id})}},t.MilliCode,"-  ",t.Name)}})})):r.a.createElement(r.a.Fragment,null)}}]),a}(n.Component);function Z(e,t,a){return e?r.a.createElement("div",{"data-testid":a+"Validation",className:"valid-feedback"},"\u062f\u0631\u0633\u062a \u0627\u0633\u062a"):t?r.a.createElement("div",{"data-testid":a+"Validation",className:"invalid-feedback"},t):r.a.createElement("div",{"data-testid":a+"Validation",className:"invalid-feedback"},"\u062f\u0631\u0633\u062a \u0646\u06cc\u0633\u062a")}var $=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(c.a)(this,a);var r=(n=t.call(this,e)).props.resetButtonId?n.props.resetButtonId:"resetButton";return n.state={form:{},resetButtonId:r},n.handleChange=n.handleChange.bind(Object(p.a)(n)),n}return Object(o.a)(a,[{key:"resetForm",value:function(){document.getElementById(this.state.resetButtonId).click()}},{key:"getState",value:function(){return this.state}},{key:"handleChange",value:function(e,t,a,n){var r=e.target?e.target.value:e;this.state.form[t]="select"===n.type||"number"===n.type||"money"===n.type?parseInt(r):r,a&&(this.state.form[t+"Money"]=" \u0631\u06cc\u0627\u0644 "+G(r)),this.validation(n,e.target.value),this.setState({rdm:Math.random()})}},{key:"componentDidMount",value:function(){this.props.setParent&&(this.props.setParent[this.props.setParentName]=this)}},{key:"validation",value:function(e,t){this.state[e.name+"IsValid"]=!!t}},{key:"render",value:function(){var e=this,t=this.props.config;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-12",style:{margin:"20px"}},r.a.createElement("form",{className:t.formClass},this.renderFields(t),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("button",{id:this.state.resetButtonId,onClick:function(){return e.setState({form:{}})},type:"reset",class:"btn btn-info"},"\u067e\u0627\u06a9 \u06a9\u0631\u062f\u0646 \u0641\u0631\u0645"),r.a.createElement(q.a,{render:function(a){var n=a.history;return r.a.createElement("button",{onClick:function(){t.buttonCallback(e,n)},"data-testid":t.buttonId,type:"button",className:t.buttonClass},t.buttonName)}})))))}},{key:"renderSelect",value:function(e,t,a,n,l,i,s){var c=this;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,l),r.a.createElement("select",{"data-testid":s.name,disabled:s.disabled,className:this.getFieldClass({name:e}),required:s.required,onChange:function(t){c.handleChange(t,e,!1,s),i&&i(t,null,c.state)}},r.a.createElement("option",{value:""},"\u0627\u0646\u062a\u062e\u0627\u0628 \u0646\u0645\u0627\u06cc\u06cc\u062f"),t&&t.length&&t.map((function(t,l,i){return t[a]===c.state.form[e]?r.a.createElement("option",{selected:"selected",value:t[a],key:t[a]},t[n]):r.a.createElement("option",{value:t[a]},t[n])}))),Z(this.state.form[e+"IsValid"],"\u062f\u0631\u0633\u062a \u0646\u06cc\u0633\u062a",e)):r.a.createElement("p",null,"\u0644\u06cc\u0633\u062a \u0644\u0648\u062f \u0646\u0634\u062f")}},{key:"getFieldClass",value:function(e){var t="form-control";return!0===this.state[e.name+"IsValid"]?t+=" is-valid":!1===this.state[e.name+"IsValid"]&&(t+=" is-invalid"),t}},{key:"renderFields",value:function(e){var t=this;return e.fields.map((function(e,a,n){switch(e.type){case"file":return r.a.createElement("div",{className:e.col?e.col:"col-md-6"},r.a.createElement("label",null,e.title),r.a.createElement("input",{maxLength:e.max,type:"file",accept:"image/*",className:t.getFieldClass(e),placeholder:e.placeholder,onChange:function(a){!function(e,t){if(!e.target.files||0==e.target.files.length)return;var a=new FileReader;a.readAsDataURL(e.target.files[0]),a.onloadend=function(e){e.target.readyState==FileReader.DONE&&t(e.target.result)}}(a,(function(a){var n=a;t.state.form[e.name]=n,t.setState({sfds:Math.random()})}))},required:e.required,"data-testid":e.name,disabled:e.disabled}),t.state.form[e.name]&&r.a.createElement("img",{src:t.state.form[e.name],width:"150",height:"150"}),Z(t.state[e.name+"IsValid"],null,e.name));case"text":case"money":case"number":return r.a.createElement("div",{className:e.col?e.col:"col-md-6"},r.a.createElement("label",null,e.title),r.a.createElement("input",{maxLength:e.max,type:"text"===e.type?"text":"number",className:t.getFieldClass(e),placeholder:e.placeholder,onChange:function(a){"money"===e.type?t.handleChange(a,e.name,!0,e):t.handleChange(a,e.name,!1,e),e.onchange&&e.onchange(a,null,t)},value:t.state.form[e.name],required:e.required,"data-testid":e.name,disabled:e.disabled}),Z(t.state[e.name+"IsValid"],null,e.name),"money"===e.type&&r.a.createElement("span",{"data-testid":e.name+"Money",style:{direction:"ltr"}},t.state.form[e.name+"Money"]));case"select":return r.a.createElement("div",{className:e.col?e.col:"col-md-6"},t.renderSelect(e.name,e.options,"Id","Name","\u0646\u0647\u0627\u062f\u0647",(function(a,n){e.onchange&&e.onchange(a,null,t)}),e),Z(t.state[e.name+"IsValid"],null,e.name));case"textarea":return r.a.createElement("div",{className:e.col?e.col:"col-md-6"},r.a.createElement("label",null,e.title),r.a.createElement("textarea",{disabled:e.disabled,"data-testid":e.name,type:"text",className:t.getFieldClass(e),placeholder:e.placeholder,onChange:function(a){"money"===e.type?t.handleChange(a,e.name,!0,e):t.handleChange(a,e.name,!1,e),e.onchange&&e.onchange(a,null,t)},value:t.state.form[e.name],required:e.required}),Z(t.state[e.name+"IsValid"],null,e.name));default:return r.a.createElement(r.a.Fragment,null)}}))}}]),a}(n.Component);a(46),a(27);var ee=function(){function e(){Object(c.a)(this,e),this.array=[],this.array.push({Name:"\u0633\u0628\u0648\u0633",Id:1,PerUnitPrice:15e3,Remain:50}),this.array.push({Name:"\u06af\u0646\u062f\u0645",Id:2,PerUnitPrice:85e3,Remain:35}),this.array.push({Name:"\u062c\u0648",Id:3,PerUnitPrice:19e3,Remain:30})}return Object(o.a)(e,[{key:"getAllDebug",value:function(){var e=this;return new Promise((function(t,a){t({Status:1,EntityList:e.array})}))}},{key:"getAllReal",value:function(){return fetch("/AnimalFood").then((function(e){return e.json()}))}},{key:"save",value:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("/AnimalFood",t).then((function(e){return e.json()}))}},{key:"getAll",value:function(){return J?this.getAllDebug():this.getAllReal()}}]),e}(),te=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).animalFoodService=new ee,n.state={},n}return Object(o.a)(a,[{key:"getConfig",value:function(){var e=this;return{formClass:"form-row",buttonName:"\u062b\u0628\u062a",buttonId:"Save",buttonCallback:function(t,a){e.save()},buttonClass:"btn btn-primary",fields:[{name:"Name",placeholder:"\u0646\u0627\u0645 \u0646\u0647\u0627\u062f\u0647",title:"\u0646\u0627\u0645 \u0646\u0647\u0627\u062f\u0647",type:"text",required:!0,col:"col-md-6"},{name:"Remain",placeholder:"\u0645\u0642\u062f\u0627\u0631 \u0627\u0648\u0644\u06cc",title:"\u0645\u0642\u062f\u0627\u0631 \u0627\u0648\u0644\u06cc\u0647",type:"number",required:!0,col:"col-md-6"},{name:"PerUnitPrice",placeholder:"\u0642\u06cc\u0645\u062a \u0647\u0631 \u06a9\u06cc\u0644\u0648 (\u0631\u06cc\u0627\u0644)",title:"\u0642\u06cc\u0645\u062a \u0647\u0631 \u06a9\u06cc\u0644\u0648 (\u0631\u06cc\u0627\u0644)",type:"money",required:!0,col:"col-md-6"},{name:"PerCustomerTotalMalQouta",placeholder:"\u06a9\u06cc\u0644\u0648 \u0628\u0631\u0627\u06cc \u0647\u0631 \u06af\u0627\u0648 \u0648 \u06af\u0627\u0648\u0645\u06cc\u0634",title:"\u06a9\u06cc\u0644\u0648 \u0628\u0631\u0627\u06cc \u0647\u0631 \u06af\u0627\u0648 \u0648 \u06af\u0627\u0648\u0645\u06cc\u0634",type:"number",required:!0,col:"col-md-6"},{name:"Image",placeholder:"\u062a\u0635\u0648\u06cc\u0631",title:"\u062a\u0635\u0648\u06cc\u0631",type:"file",required:!0,col:"col-md-6"}]}}},{key:"save",value:function(){var e=this,t=this.childDynamicFormComponentReference.getState().form;t.Name?(null==t.Remain&&(t.Remain=0),this.state.editing||null!=t.Remain?(this.childDynamicFormComponentReference.resetForm(),this.animalFoodService.save(t).then((function(t){1===t.Status?e.readAllFoods():alert(t.Message)}))):alert("\u0645\u0642\u062f\u0627\u0631 \u0648\u0627\u0631\u062f \u0646\u0634\u062f\u0647 \u0627\u0633\u062a")):alert("\u0646\u0627\u0645 \u0648\u0627\u0631\u062f \u0646\u0634\u062f\u0647 \u0627\u0633\u062a")}},{key:"componentDidMount",value:function(){this.readAllFoods()}},{key:"readAllFoods",value:function(){var e=this;return this.animalFoodService.getAll().then((function(t){1==t.Status?e.setState({animalFoods:t.EntityList}):alert(t.Message)}))}},{key:"render",value:function(){var e=this.getConfig();return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12","data-testid":"addForm"},r.a.createElement($,{config:e,setParent:this,setParentName:"childDynamicFormComponentReference"})),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("table",{class:"table","data-testid":"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"\u0646\u0627\u0645"),r.a.createElement("th",{scope:"col"},"\u0645\u0648\u062c\u0648\u062f\u06cc"),r.a.createElement("th",{scope:"col"},"\u06a9\u06cc\u0644\u0648 \u0628\u0631\u0627\u06cc \u0647\u0631 \u06af\u0627\u0648 \u0648 \u06af\u0627\u0648\u0645\u06cc\u0634"),r.a.createElement("th",{scope:"col"},"\u0642\u06cc\u0645\u062a \u0648\u0627\u062d\u062f"),r.a.createElement("th",{scope:"col"},"\u0639\u0645\u0644\u06cc\u0627\u062a"))),r.a.createElement("tbody",{"data-testid":"rows"},this.showRows()))))}},{key:"showRows",value:function(){var e=this;return this.state.animalFoods?this.state.animalFoods.map((function(t,a,n){return r.a.createElement("tr",{key:t.Id},r.a.createElement("th",{scope:"row"},t.Id),r.a.createElement("td",null,t.Name),r.a.createElement("td",null,t.Remain),r.a.createElement("td",null,t.PerCustomerTotalMalQouta),r.a.createElement("td",{style:{direction:"rtl"}},"  ",G(t.PerUnitPrice),"   \u0631\u06cc\u0627\u0644"),r.a.createElement("td",null,r.a.createElement("button",{className:"btm btn-info",onClick:function(){return e.edit(t)}},"\u0648\u06cc\u0631\u0627\u06cc\u0634")))})):r.a.createElement(r.a.Fragment,null)}},{key:"edit",value:function(e){this.childDynamicFormComponentReference.setState({form:e})}}]),a}(n.Component),ae={center:{textAlign:"center"}},ne=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.readAllAnimalFoods()}},{key:"readAllAnimalFoods",value:function(){var e=this;(new ee).getAll().then((function(t){1===t.Status?e.setState({animalfoods:t.EntityList}):alert(t.Message)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",{style:ae.center},"\u0648\u0636\u0639\u06cc\u062a \u0627\u0646\u0628\u0627\u0631"),r.a.createElement("span",{style:{display:"none"},"data-testid":"InventoryStatus"},"InventoryStatus"),r.a.createElement("div",{"data-testid":"animalfood-list",className:"row"},this.renderAnimalFoods()))}},{key:"renderAnimalFoods",value:function(){return this.state.animalfoods?this.state.animalfoods.map((function(e,t,a){return re(e)})):r.a.createElement(r.a.Fragment,null)}}]),a}(n.Component),re=function(e,t,a){return r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-body"},r.a.createElement("h5",{class:"card-title"}," ",e.Name),r.a.createElement("img",{src:e.Image,width:"150",height:"150"}),r.a.createElement("p",{class:"card-text"},"\u0628\u0627\u0642\u06cc \u0645\u0627\u0646\u062f\u0647 ",e.Remain," \u06a9\u06cc\u0644\u0648\u06af\u0631\u0645")," ",!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{render:function(t){var a=t.history;return r.a.createElement("button",{onClick:function(){v.selectedAnimalFood=e,a.push("/IssueAssignmentList")},"data-testid":"IssueAssignmentList",type:"button",className:"btn btn-primary"},"\u062d\u0648\u0627\u0644\u0647 \u0647\u0627")}}),r.a.createElement(m.a,{render:function(t){var a=t.history;return r.a.createElement("button",{onClick:function(){v.selectedAnimalFood=e,a.push("/BuyAnimalFoodList")},"data-testid":"AnimalFoodBuyList",type:"button",className:"btn btn-primary"},"\u062e\u0631\u06cc\u062f \u0647\u0627")}})),t&&r.a.createElement("button",{"data-testid":"food-"+e.Name,style:{color:"white"},type:"button",className:"card-link btn btn-primary",onClick:function(){if(!e.Remain||e.Remain<=0)return a.setState({errMsg:"\u0627\u0632 \u0627\u06cc\u0646 \u0646\u0647\u0627\u062f\u0647 \u062f\u0631 \u0627\u0646\u0628\u0627\u0631 \u0645\u0648\u062c\u0648\u062f \u0646\u06cc\u0633\u062a"}),void alert("\u0627\u0632 \u0627\u06cc\u0646 \u0646\u0647\u0627\u062f\u0647 \u062f\u0631 \u0627\u0646\u0628\u0627\u0631 \u0645\u0648\u062c\u0648\u062f \u0646\u06cc\u0633\u062a ");a.setState({errMsg:null}),t()}},"\u0627\u0646\u062a\u062e\u0627\u0628"))))},le=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={foods:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.readAllAnimalFood()}},{key:"readAllAnimalFood",value:function(){var e=this;(new ee).getAll().then((function(t){1==t.Status?e.setState({foods:t.EntityList}):alert(t.Message)})).catch((function(e){alert("\u062e\u0637\u0627 \u062f\u0631 \u0633\u06cc\u0633\u062a\u0645")}))}},{key:"showAnimalFoods",value:function(){var e=this;return this.state.foods?this.state.foods.map((function(t,a,n){return r.a.createElement(m.a,{render:function(a){a.history;return re(t,(function(){v.selectedAnimalFood=t,e.props.parent.setState({step:1,AnimalFoodId:t.Id})}),e)}})})):r.a.createElement(r.a.Fragment,null)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"\u0644\u0637\u0641\u0627 \u0646\u0647\u0627\u062f\u0647 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u062e\u0648\u062f \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u0646\u0645\u0627\u06cc\u06cc\u062f"),this.state.errMsg&&r.a.createElement("div",{style:ae.center,className:"alert alert-danger"},this.state.errMsg),r.a.createElement("div",{className:"row"},this.showAnimalFoods()))}}]),a}(n.Component),ie=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={form:{},miliCodeIsValid:!1},n.handleChange=n.handleChange.bind(Object(p.a)(n)),n}return Object(o.a)(a,[{key:"handleChange",value:function(e,t,a){var n=e.target?e.target.value:e;this.state.form[t]=n,a&&(this.state.form[t]=G(this.state.form[t])),n&&n.length,this.state.form[t+"IsValid"]=!1,this.setState({rdm:Math.random()})}},{key:"serverResponseEntityListCallback",value:function(e,t){var a={};a[t]=e.EntityList,1==e.Status?this.setState(a):alert(e.Message)}},{key:"serverResponseSingleCallback",value:function(e,t){var a={};a[t]=e.Single,1==e.Status?this.setState(a):alert(e.Message)}},{key:"renderSelect",value:function(e,t,a,n,l,i){var s=this;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{for:"validationServer01"},l),r.a.createElement("select",{class:"custom-select",required:!0,onChange:function(n){if(s.handleChange(n,e),i){var r=t.find((function(e){return e[a]+""===n.target.value}));i(n,r)}}},r.a.createElement("option",{value:""},"\u0627\u0646\u062a\u062e\u0627\u0628 \u0646\u0645\u0627\u06cc\u06cc\u062f"),t.map((function(t,l,i){return t[a]===s.state.form[e]?r.a.createElement("option",{selected:"selected",value:t},t[n]):r.a.createElement("option",{value:t[a]},t[n])}))),Z(this.state.form[e+"IsValid"],"\u062f\u0631\u0633\u062a \u0646\u06cc\u0633\u062a")):r.a.createElement("p",null,"\u0644\u06cc\u0633\u062a \u0644\u0648\u062f \u0646\u0634\u062f")}}]),a}(n.Component),se=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,[{key:"getAll",value:function(){return J?this.getAllDebug():this.getAllReal()}},{key:"getAllDebug",value:function(){return new Promise((function(e,t){e({Status:1,Single:{Unit:"\u06a9\u06cc\u0644\u0648\u06af\u0631\u0645",PerUnitPrice:25e3}})}))}},{key:"getAllReal",value:function(){}}]),e}(),ce=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,[{key:"getAnimalFoodAndPersonQuota",value:function(e,t){return fetch("/IssueAssignment/getAnimalFoodAndPersonQuota?foodId=".concat(e,"&personId=").concat(t)).then((function(e){return e.json()}))}},{key:"getAllByAnimalFoodId",value:function(e,t,a){return fetch("/IssueAssignment/getAllByAnimalFoodId?animalFoodId=".concat(e,"&take=").concat(t,"&skip=").concat(a)).then((function(e){return e.json()}))}},{key:"save",value:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("/IssueAssignment/Issue",t).then((function(e){return e.json()}))}}]),e}(),oe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.loadAllAnimalFoods().then((function(t){e.loadAllPersonnel().then((function(t){e.loadExactKg()})).catch((function(t){e.loadExactKg()}))})).catch((function(t){e.loadExactKg()}))}},{key:"loadExactKg",value:function(){v.selectedAnimalFood&&v.selectedPerson&&this.getAnimalFoodAndPersonQuota(v.selectedAnimalFood.Id,v.selectedPerson.Id)}},{key:"loadAllAnimalFoods",value:function(){var e=this;return(new ee).getAll().then((function(t){if(e.serverResponseEntityListCallback(t,"animalFoods"),v.selectedAnimalFood){var a=e.childDynamicFormComponentReference.getState().form;a.AnimalFoodId=v.selectedAnimalFood.Id,a.PerUnitPrice=v.selectedAnimalFood.PerUnitPrice,a.PerUnitPriceMoney=G(v.selectedAnimalFood.PerUnitPrice),e.childDynamicFormComponentReference.setState({form:a,td:Math.random()})}}))}},{key:"loadAllPersonnel",value:function(){var e=this;return(new H).getAll().then((function(t){if(e.serverResponseEntityListCallback(t,"persons"),v.selectedPerson){var a=e.childDynamicFormComponentReference.getState().form;a.PersonId=v.selectedPerson.Id,e.childDynamicFormComponentReference.setState({form:a,td:Math.random()})}}))}},{key:"save",value:function(e,t){var a=e.getState().form;if(a.AnimalFoodId&&a.PersonId&&a.PerUnitPrice&&a.Quan&&a.TotalPrice){if((a.Quan+"").length>5)return alert("\u0645\u0642\u062f\u0627\u0631 \u0628\u06cc\u0634\u062a\u0631 \u0627\u0632 5 \u0631\u0642\u0645 \u0645\u062c\u0627\u0632 \u0646\u06cc\u0633\u062a"),!1;try{parseInt(a.Quan)}catch(n){return void alert("\u0645\u0642\u0627\u062f\u06cc\u0631 \u0627\u0634\u062a\u0628\u0627\u0647 \u0627\u0633\u062a \u0644\u0637\u0641\u0627 \u0645\u0642\u0627\u062f\u06cc\u0631 \u062f\u0631\u0633\u062a \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f")}(new ce).save(a).then((function(e){1===e.Status?(v.selectedIssueAssignment=e.Single,t.push("/PrintIssueAssignment")):alert(e.Message)})).catch((function(e){alert("\u0628\u0647 \u0627\u06cc\u0646\u062a\u0631\u0646\u062a \u0645\u062a\u0635\u0644 \u0646\u06cc\u0633\u062a\u06cc\u062f")}))}else alert("\u0645\u0642\u0627\u062f\u06cc\u0631 \u0627\u0634\u062a\u0628\u0627\u0647 \u0627\u0633\u062a \u0644\u0637\u0641\u0627 \u0645\u0642\u0627\u062f\u06cc\u0631 \u062f\u0631\u0633\u062a \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f")}},{key:"getConfig",value:function(){var e=this;return{formClass:"form-row",buttonName:"\u0635\u062f\u0648\u0631 \u062d\u0648\u0627\u0644\u0647",buttonId:"submitIssueAssignment",buttonCallback:function(t,a){e.save(t,a)},buttonClass:"btn btn-primary",fields:[{name:"AnimalFoodId",placeholder:"\u0646\u0648\u0639 \u0646\u0647\u0627\u062f\u0647",title:"\u0646\u0647\u0627\u062f\u0647",type:"select",options:this.state.animalFoods,nameField:"Name",valueField:"Id",required:!0,col:"col-md-6"},{name:"PersonId",placeholder:"\u0645\u0634\u062a\u0631\u06cc",title:"\u0645\u0634\u062a\u0631\u06cc",type:"select",required:!0,options:this.state.persons,nameField:"Name",valueField:"Id",col:"col-md-6"},{name:"PerUnitPrice",placeholder:"\u0645\u0628\u0644\u063a \u0647\u0631 \u06a9\u06cc\u0644\u0648 (\u0631\u06cc\u0627\u0644)",title:"\u0645\u0628\u0644\u063a \u0647\u0631 \u06a9\u06cc\u0644\u0648 (\u0631\u06cc\u0627\u0644)",type:"money",disabled:!0,required:!0,col:"col-md-6"},{name:"Quan",placeholder:"\u0645\u0642\u062f\u0627\u0631 (\u06a9\u06cc\u0644\u0648\u06af\u0631\u0645)",title:"\u0645\u0642\u062f\u0627\u0631 (\u06a9\u06cc\u0644\u0648\u06af\u0631\u0645)",type:"number",required:!0,col:"col-md-6",onchange:function(t,a,n){e.updateFormAfterQuan(n)}},{name:"TotalPrice",placeholder:"\u0645\u0628\u0644\u063a \u06a9\u0644 (\u0631\u06cc\u0627\u0644)",title:"\u0645\u0628\u0644\u063a \u06a9\u0644 (\u0631\u06cc\u0627\u0644)",type:"money",disabled:!0,required:!0,col:"col-md-6"},{name:"BankFish",placeholder:"\u0634\u0645\u0627\u0631\u0647 \u0641\u06cc\u0634 \u0648\u0627\u0631\u06cc\u0632\u06cc",title:"\u0634\u0645\u0627\u0631\u0647 \u0641\u06cc\u0634 \u0648\u0627\u0631\u06cc\u0632\u06cc",type:"text",required:!1,col:"col-md-6"},{name:"Description",placeholder:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a",title:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a",type:"textarea",required:!1,col:"col-md-6"}]}}},{key:"loadGlobalSiteSetting",value:function(){var e=this;(new se).getAll().then((function(t){e.serverResponseSingleCallback(t,"setting")}))}},{key:"render",value:function(){var e=this.getConfig();return r.a.createElement("div",{className:"row"},r.a.createElement($,{config:e,setParent:this,setParentName:"childDynamicFormComponentReference"}))}},{key:"updateTotalPrice",value:function(e){if(this.state.form.PerUnitPrice){var t=this.state.form.PerUnitPrice*parseInt(this.state.form.Quan?this.state.form.Quan:0);this.handleChange(t,"TotalPrice",!0),this.handleChange(this.state.form.PerUnitPrice,"PerUnitPrice",!0)}}},{key:"getAnimalFoodAndPersonQuota",value:function(e,t){var a=this;(new ce).getAnimalFoodAndPersonQuota(e,t).then((function(e){if(1===e.Status){var t=a.childDynamicFormComponentReference.getState().form;t.Quan=e.Single.Kg,a.childDynamicFormComponentReference.setState({form:t,td:Math.random()}),a.updateFormAfterQuan(a.childDynamicFormComponentReference)}else alert(e.Message)})).catch((function(e){alert("\u0628\u0647 \u0627\u06cc\u0646\u062a\u0631\u0646\u062a \u0645\u062a\u0635\u0644 \u0646\u06cc\u0633\u062a\u06cc\u062f")}))}},{key:"updateFormAfterQuan",value:function(e){var t=e.getState(),a=parseInt(t.form.PerUnitPrice)*parseInt(t.form.Quan?t.form.Quan:0);t.form.TotalPrice=a,t.form.TotalPriceMoney=G(a),e.setState({td:Math.random()})}}]),a}(ie),ue=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,"\u067e\u0631\u06cc\u0646\u062a \u062d\u0648\u0627\u0644\u0647")}}]),a}(n.Component),de=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),a}(n.Component),me=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={step:0},n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"\u0635\u062f\u0648\u0631 \u062d\u0648\u0627\u0644\u0647 (\u062e\u0631\u0648\u062c \u0627\u0632 \u0627\u0646\u0628\u0627\u0631) "),r.a.createElement(de,null),r.a.createElement("hr",null),0==this.state.step&&r.a.createElement(le,{parent:this}),1==this.state.step&&this.state.AnimalFoodId&&r.a.createElement(Y,{parent:this}),2==this.state.step&&this.state.AnimalFoodId&&v.selectedPerson.Name&&r.a.createElement(oe,{parent:this}),3==this.state.step&&this.state.AnimalFoodId&&v.selectedPerson.Name&&r.a.createElement(ue,{parent:this}))}}]),a}(n.Component),he=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadAllAnimalFoods()}},{key:"loadAllAnimalFoods",value:function(){var e=this;(new ee).getAll().then((function(t){e.serverResponseEntityListCallback(t,"animalFoods"),v.selectedAnimalFood&&(e.state.form.AnimalFoodId=v.selectedAnimalFood.Id)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{class:"form"},r.a.createElement("div",{class:"col-md-6 "},this.renderSelect("AnimalFoodId",this.state.animalFoods,"Id","Name","\u0646\u0647\u0627\u062f\u0647")),r.a.createElement("div",{class:"col-md-6 "},r.a.createElement("label",{for:"validationServer01"},"\u0645\u0628\u0644\u063a \u0647\u0631 \u06a9\u06cc\u0644\u0648 (\u0631\u06cc\u0627\u0644)"),r.a.createElement("input",{type:"text",class:"form-control is-valid",id:"validationServer01",placeholder:"\u0645\u0628\u0644\u063a \u0647\u0631 \u06a9\u06cc\u0644\u0648",disabled:!0,value:this.state.form.PerUnitPrice,required:!0}),Z()),r.a.createElement("div",{class:"col-md-6 "},r.a.createElement("label",{for:"validationServer01"},"\u0645\u0628\u0644\u063a \u06a9\u0644 (\u0631\u06cc\u0627\u0644)"),r.a.createElement("input",{type:"text",class:"form-control is-valid",id:"validationServer01",placeholder:"\u0645\u0628\u0644\u063a \u06a9\u0644",disabled:!0,value:this.state.form.TotalPrice,required:!0}),Z()),r.a.createElement("div",{class:"col-md-6 "},this.renderSelect("PersonId",this.state.persons,"Id","Name","\u0645\u0634\u062a\u0631\u06cc")),r.a.createElement("button",{onClick:function(){e.props.saveCallback&&e.props.saveCallback(e.state.form),e.props.parent.setState({step:3})}},"\u0635\u062f\u0648\u0631 \u062d\u0648\u0627\u0644\u0647"))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{class:"col-md-6 "},r.a.createElement("label",{for:"validationServer01"},"\u0645\u0642\u062f\u0627\u0631 (\u06a9\u06cc\u0644\u0648\u06af\u0631\u0645)"),r.a.createElement("input",{type:"number",class:"form-control is-valid",id:"validationServer01",placeholder:"\u0686\u0646\u062f \u06a9\u06cc\u0644\u0648 \u06af\u0631\u0645 \u061f",onChange:function(t){e.handleChange(t,"Quan"),e.updateTotalPrice(t)},value:this.state.form.Quan,required:!0}),Z()),r.a.createElement("div",{class:"col-md-6 "},r.a.createElement("label",{for:"validationServer02"},"\u0628\u0627\u0628\u062a \u0641\u06cc\u0634"),r.a.createElement("input",{type:"text",class:"form-control is-valid",id:"validationServer02",placeholder:"\u06a9\u062f \u0645\u0644\u06cc",onChange:function(t){e.handleChange(t,"BankFish")},value:this.state.form.BankFish,required:!0}),Z(this.state.BankFishIsValid)),r.a.createElement("div",{class:"col-md-6 "},r.a.createElement("label",{for:"validationServer02"},"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a"),r.a.createElement("textarea",{type:"text",class:"form-control is-valid",id:"validationServer02",placeholder:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a",onChange:function(t){e.handleChange(t,"Description")},value:this.state.form.Description,required:!0}),Z(this.state.DescriptionIsValid))))}}]),a}(ie),pe=function(){function e(){Object(c.a)(this,e),this.array=[],this.array.push({Name:"\u0633\u0628\u0648\u0633",Id:1,PerUnitPrice:15e3,Remain:50}),this.array.push({Name:"\u06af\u0646\u062f\u0645",Id:2,PerUnitPrice:85e3,Remain:35}),this.array.push({Name:"\u062c\u0648",Id:3,PerUnitPrice:19e3,Remain:30})}return Object(o.a)(e,[{key:"getAllDebug",value:function(){var e=this;return new Promise((function(t,a){t({Status:1,EntityList:e.array})}))}},{key:"getAllRealByanimalFoodId",value:function(e,t,a){return fetch("/AnimalFoodBuy/GetAllByAnimalFoodId?animalFoodId=".concat(e,"&take=").concat(t,"&skip=").concat(a)).then((function(e){return e.json()}))}},{key:"getAllReal",value:function(e,t){return fetch("/AnimalFoodBuy?take=".concat(e,"&skip=").concat(t)).then((function(e){return e.json()}))}},{key:"save",value:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("/AnimalFoodBuy",t).then((function(e){return e.json()}))}},{key:"getAll",value:function(e,t,a){return J?this.getAllDebug():e?this.getAllRealByanimalFoodId(e,t,a):this.getAllReal(t,a)}}]),e}(),fe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={animalFoods:{}},n}return Object(o.a)(a,[{key:"getAnimalFoods",value:function(){return this.state.animalFoods}},{key:"readAllAnimalFoods",value:function(){var e=this;return(new ee).getAll().then((function(t){1==t.Status?e.setState({animalFoods:t.EntityList}):alert(t.Message)}))}},{key:"componentDidMount",value:function(){this.readAllAnimalFoods()}},{key:"updatePrices",value:function(e){if(!e.getState())throw new Error("dynamicForm.getState() is null");if(!e.getState().form)throw new Error("dynamicForm.getState().form is null");var t=parseInt(e.getState().form.AnimalFoodId);if(t){if(!t)throw new Error("AnimalFoodId is null");var a=this.state.animalFoods.find((function(e){return e.Id==t}));if(!a)throw new Error("animalFood is null");if(!e.getState().form)throw new Error("dynamicForm.form is null");e.getState().form.PerUnitPrice=a.PerUnitPrice,e.getState().form.PerUnitPriceMoney=G(a.PerUnitPrice);var n=e.getState().form.Quan?e.getState().form.Quan:0,r=a.PerUnitPrice*n;e.getState().form.TotalPrice=r,e.getState().form.TotalPriceMoney=G(r),e.setState({bdn:Math.random()})}else alert("\u0644\u0637\u0641\u0627 \u0627\u0628\u062a\u062f\u0627 \u0646\u0647\u0627\u062f\u0647 \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u0646\u0645\u0627\u06cc\u06cc\u062f")}},{key:"validation",value:function(e){var t=e.getState().form;return t.Quan&&t.AnimalFoodId&&t.PerUnitPrice&&t.TotalPrice?!((t.Quan+"").length>5)||(alert("\u0645\u0642\u062f\u0627\u0631 \u0628\u06cc\u0634\u062a\u0631 \u0627\u0632 5 \u0631\u0642\u0645 \u0645\u062c\u0627\u0632 \u0646\u06cc\u0633\u062a"),!1):(alert("\u0645\u0642\u0627\u062f\u06cc\u0631 \u0627\u0634\u062a\u0628\u0627\u0647 \u0627\u0633\u062a \u0644\u0637\u0641\u0627 \u0641\u0631\u0645 \u0631\u0627 \u0686\u06a9 \u060c \u0648 \u0645\u0648\u0627\u0631\u062f \u0627\u0634\u062a\u0628\u0627\u0647 \u0631\u0627 \u0627\u0635\u0644\u0627\u062d \u0641\u0631\u0645\u0627\u06cc\u06cc\u062f"),!1)}},{key:"save",value:function(e,t){var a=new pe;return e.DateTime=new Date,a.save(e).then((function(e){1===e.Status?t.push("/InventoryStatus"):alert(e.Message)})).catch((function(e){console.error(e),alert("\u062e\u0637\u0627\u06cc\u06cc \u0631\u062e \u062f\u0627\u062f")}))}},{key:"getConfig",value:function(){var e=this;return{formClass:"form-row",buttonName:"\u062b\u0628\u062a",buttonId:"submitBuyAnimalFood",buttonClass:"btn btn-primary",buttonCallback:function(t,a){e.validation(t)&&e.save(t.state.form,a)},fields:[{name:"AnimalFoodId",placeholder:"\u0646\u0648\u0639 \u0646\u0647\u0627\u062f\u0647",title:"\u0646\u0647\u0627\u062f\u0647",type:"select",options:this.state.animalFoods,nameField:"Name",valueField:"Id",required:!0,col:"col-md-6",onchange:function(t,a,n){e.updatePrices(n)}},{name:"Quan",placeholder:"\u0645\u0642\u062f\u0627\u0631",title:"\u0645\u0642\u062f\u0627\u0631 (\u06a9\u06cc\u0644\u0648\u06af\u0631\u0645)",type:"number",max:5,required:!0,col:"col-md-6",onchange:function(t,a,n){e.updatePrices(n)}},{name:"PerUnitPrice",placeholder:"\u0642\u06cc\u0645\u062a \u0647\u0631 \u06a9\u06cc\u0644\u0648",title:"\u0642\u06cc\u0645\u062a \u0647\u0631 \u06a9\u06cc\u0644\u0648",type:"money",required:!0,disabled:!0,col:"col-md-6"},{name:"TotalPrice",placeholder:"\u0645\u0628\u0644\u063a \u06a9\u0644",title:"\u0645\u0628\u0644\u063a \u06a9\u0644",type:"money",required:!0,disabled:!0,col:"col-md-6"},{name:"Fish",placeholder:"\u0634\u0645\u0627\u0631\u0647 \u0641\u06cc\u0634 \u0628\u0627\u0646\u06a9",title:"\u0634\u0645\u0627\u0631\u0647 \u0641\u06cc\u0634 \u0628\u0627\u0646\u06a9",type:"text",required:!0,col:"col-md-6"},{name:"Description",placeholder:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a",title:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a",type:"textarea",required:!0,col:"col-md-6"}]}}},{key:"render",value:function(){var e=this.getConfig();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{style:ae.center},"\u062e\u0631\u06cc\u062f \u0646\u0647\u0627\u062f\u0647  (\u0648\u0631\u0648\u062f \u0646\u0647\u0627\u062f\u0647 \u0628\u0647 \u0627\u0646\u0628\u0627\u0631 )"),r.a.createElement("div",{className:"row"},r.a.createElement($,{config:e})))}}]),a}(n.Component),ve=function(e,t,a,n,l){t>e&&(t=e);var i=e/t+(e%t>0?1:0);for(var s=[],c=1;c<=i;c++)s.push(c);return r.a.createElement("div",null,s.map((function(e){return e==a+1?r.a.createElement("button",{style:{color:"blue"},onClick:function(){n[l](t,e*t-1)}},e):r.a.createElement("button",{onClick:function(){n[l](t,e*t-1)}},e)})))},ge=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={list:[],LastTake:0,LastSkip:0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.readAndSet(this.state.LastTake,this.state.LastSkip)}},{key:"readAndSet",value:function(e,t){var a=this;this.readAllIssueAssignments(e,t).then((function(e){1==e.Status?a.setState({list:e.EntityList,Total:e.Total,LastTake:e.LastTake,LastSkip:e.LastSkip}):alert(e.Message)})).catch((function(e){console.error(e),alert("\u062e\u0637\u0627\u06cc\u06cc \u0631\u062e \u062f\u0627\u062f")}))}},{key:"readAllIssueAssignments",value:function(e,t){var a=v.selectedAnimalFood?v.selectedAnimalFood.Id:null;return(new ce).getAllByAnimalFoodId(a||"",e,t)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",{style:ae.center}," \u0644\u06cc\u0633\u062a \u062d\u0648\u0627\u0644\u0647 \u0647\u0627"),v.selectedAnimalFood&&v.selectedAnimalFood.Name&&r.a.createElement("h4",{style:{textAlign:"right"}},"\u0646\u0647\u0627\u062f\u0647 \u0627\u0646\u062a\u062e\u0627\u0628 \u0634\u062f\u0647 : ",v.selectedAnimalFood.Name),r.a.createElement("table",{dir:"rtl",className:"table table-bordered",style:{direction:"ltr"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u0631\u062f\u06cc\u0641"),r.a.createElement("th",null,"\u0646\u0648\u0639 \u0646\u0647\u0627\u062f\u0647"),r.a.createElement("th",null,"\u0646\u0627\u0645 \u0634\u062e\u0635"),r.a.createElement("th",null,"\u0642\u06cc\u0645\u062a \u0647\u0631 \u06a9\u06cc\u0644\u0648"),r.a.createElement("th",null,"\u0645\u0642\u062f\u0627\u0631(\u06a9\u06cc\u0644\u0648\u06af\u0631\u0645)"),r.a.createElement("th",null,"\u0645\u0628\u0644\u063a \u06a9\u0644"),r.a.createElement("th",null,"\u0634\u0645\u0627\u0631\u0647 \u0641\u06cc\u0634"),r.a.createElement("th",null,"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.list&&this.state.list.map((function(e,t,a){return r.a.createElement("tr",null,r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.AnimalFood.Name),r.a.createElement("td",null,e.Person.Name," ",e.Person.NamVaNameKhanevadegi," "),r.a.createElement("td",null,G(e.AnimalFood.PerUnitPrice)," \u0631\u06cc\u0627\u0644"),r.a.createElement("td",null,e.Quan),r.a.createElement("td",null,G(e.TotalPrice)," \u0631\u06cc\u0627\u0644"),r.a.createElement("td",null,e.BankFish),r.a.createElement("td",null,e.Description),r.a.createElement("td",null,r.a.createElement(q.a,{render:function(t){var a=t.history;return r.a.createElement("button",{type:"button",onClick:function(){v.selectedIssueAssignment=e,a.push("/PrintIssueAssignment")}},"\u067e\u0631\u06cc\u0646\u062a")}})))})),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"66"},ve(this.state.Total,this.state.LastTake,this.state.LastSkip,this,"pagingCallback"))))))}},{key:"pagingCallback",value:function(e,t){this.setState({LastSkip:t,LastTake:e}),this.readAndSet(e,t)}}]),a}(n.Component),be=(n.Component,function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={list:[],LastTake:0,LastSkip:0},n}return Object(o.a)(a,[{key:"readAndSet",value:function(e,t){var a=this;this.readAnimalFoodList(e,t).then((function(e){1==e.Status?a.setState({list:e.EntityList,Total:e.Total,LastTake:e.LastTake,LastSkip:e.LastSkip}):alert(e.Message)})).catch((function(e){console.error(e),alert("\u062e\u0637\u0627\u06cc\u06cc \u0631\u062e \u062f\u0627\u062f")}))}},{key:"componentDidMount",value:function(){this.readAndSet(this.state.LastTake,this.state.LastSkip)}},{key:"pagingCallback",value:function(e,t){this.setState({LastSkip:t,LastTake:e}),this.readAndSet(e,t)}},{key:"readAnimalFoodList",value:function(e,t){var a=v.selectedAnimalFood?v.selectedAnimalFood.Id:null;return(new pe).getAll(a,e,t)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",{style:ae.center}," \u0644\u06cc\u0633\u062a \u062e\u0631\u06cc\u062f \u0647\u0627"),v.selectedAnimalFood&&v.selectedAnimalFood.Name&&r.a.createElement("h4",{style:{textAlign:"right"}},"\u0646\u0647\u0627\u062f\u0647 \u0627\u0646\u062a\u062e\u0627\u0628 \u0634\u062f\u0647 : ",v.selectedAnimalFood.Name),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u0631\u062f\u06cc\u0641"),r.a.createElement("th",null,"\u0646\u0648\u0639 \u0646\u0647\u0627\u062f\u0647"),r.a.createElement("th",null,"\u0642\u06cc\u0645\u062a \u0647\u0631 \u06a9\u06cc\u0644\u0648"),r.a.createElement("th",null,"\u0645\u0642\u062f\u0627\u0631(\u06a9\u06cc\u0644\u0648\u06af\u0631\u0645)"),r.a.createElement("th",null,"\u0645\u0628\u0644\u063a \u06a9\u0644"),r.a.createElement("th",null,"\u0634\u0645\u0627\u0631\u0647 \u0641\u06cc\u0634"),r.a.createElement("th",null,"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a"),r.a.createElement("th",null,"\u062a\u0627\u0631\u06cc\u062e \u062b\u0628\u062a \u062e\u0631\u06cc\u062f"))),r.a.createElement("tbody",null,this.state.list&&this.state.list.map((function(e,t,a){return r.a.createElement("tr",null,r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.AnimalFood.Name),r.a.createElement("td",null,G(e.AnimalFood.PerUnitPrice)," \u0631\u06cc\u0627\u0644"),r.a.createElement("td",null,e.Quan),r.a.createElement("td",null,G(e.TotalPrice)," \u0631\u06cc\u0627\u0644"),r.a.createElement("td",null,e.Fish),r.a.createElement("td",null,e.Description),r.a.createElement("td",null,e.DateTimeIR))})),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"66"},ve(this.state.Total,this.state.LastTake,this.state.LastSkip,this,"pagingCallback"))))),r.a.createElement("pupuHiComponent",null))}}]),a}(n.Component)),ye=a(55),Ee=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e,n){var r;return Object(c.a)(this,a),(r=t.call(this,e,n)).state={},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({stylePath:"assets/printIssueAssignment.css"}),v.selectedIssueAssignment.Id&&setTimeout((function(){window.print()}),3e3)}},{key:"render",value:function(){return console.log(v.selectedIssueAssignment),v.selectedIssueAssignment.Id?r.a.createElement("div",{style:{paddingTop:"20px",paddingRight:"100px",paddingLeft:"100px"}},this.renderPrintSingle(),this.renderPrintSingle(),this.renderPrintSingle()):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"\u0628\u0631\u0627\u06cc \u067e\u0631\u06cc\u0646\u062a \u0627\u0628\u062a\u062f\u0627 \u0628\u0627\u06cc\u062f \u062d\u0648\u0627\u0644\u0647 \u0627\u06cc \u0627\u0646\u062a\u062e\u0627\u0628 \u0646\u0645\u0627\u06cc\u06cc\u062f"),r.a.createElement(q.a,{render:function(e){var t=e.history;return r.a.createElement("button",{type:"button",className:"btn btn-info",style:{direction:"rtl"},"data-testid":"IssueAssignmentList",onClick:function(){t.push("/IssueAssignmentList")}},"\u0644\u06cc\u0633\u062a \u062d\u0648\u0627\u0644\u0647 \u0647\u0627")}}))}},{key:"renderPrintSingle",value:function(){return r.a.createElement("div",null,r.a.createElement("link",{rel:"stylesheet",type:"text/css",href:this.state.stylePath}),r.a.createElement("table",{className:"sheet table table-bordered",style:{width:"100%",margin:"0px"},dir:"rtl"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"99"},r.a.createElement("p",null,r.a.createElement("strong",null,"\u0628\u0627\u0633\u0645\u0647 \u062a\u0639\u0627\u0644\u06cc")))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2",style:{width:"80"}},r.a.createElement("p",null,r.a.createElement("strong",null,"\u0634\u0631\u06a9\u062a \u062a\u0639\u0627\u0648\u0646\u06cc \u062a\u0627\u0645\u06cc\u0646 \u0646\u06cc\u0627\u0632 \u062f\u0627\u0645\u062f\u0627\u0631\u0627\u0646 \u062e\u0633\u0631\u0648\u0634\u0627\u0647 \u0648 \u062d\u0648\u0645\u0647"))),r.a.createElement("td",{style:{width:"19"}},r.a.createElement("p",null,"\u0634\u0645\u0627\u0631\u0647 \u0642\u0628\u0636: ",v.selectedIssueAssignment.Id,"  "))),r.a.createElement("tr",null,r.a.createElement("td",{className:"thRight",style:{width:"65"}},r.a.createElement("p",null,r.a.createElement("strong",null,"\u062d\u0648\u0627\u0644\u0647 \u0627\u0646\u0628\u0627\u0631 >> \u0646\u0645\u0627\u06cc\u0646\u062f\u06af\u06cc :"),"  \u0641\u06a9\u0648\u0631\u06cc ")),r.a.createElement("td",{style:{width:"14"}},r.a.createElement("p",null,"\u062a\u0627\u0631\u06cc\u062e :")),r.a.createElement("td",{style:{width:"19"}},r.a.createElement("p",null,v.selectedIssueAssignment.DateTimeIR))),r.a.createElement("tr",null,r.a.createElement("td",{style:{width:"65"}},r.a.createElement("p",null,r.a.createElement("strong",null,"\u06a9\u0627\u0644\u0627\u06cc \u0645\u0634\u0631\u0648\u062d\u0647 \u0630\u06cc\u0644 \u062a\u0648\u0633\u0637 \u0634\u0631\u06a9\u062a \u062a\u0639\u0627\u0648\u0646\u06cc \u0646\u06cc\u0627\u0632 \u062f\u0627\u0645\u062f\u0627\u0631\u0627\u0646 \u062e\u0633\u0631\u0648\u0634\u0627\u0647 \u0648 \u062d\u0648\u0645\u0647"))),r.a.createElement("td",{style:{width:"14"}},r.a.createElement("p",null,"\u0637\u06cc \u0641\u06cc\u0634:")),r.a.createElement("td",{style:{width:"19"}},r.a.createElement("p",null,v.selectedIssueAssignment.BankFish))),r.a.createElement("tr",null,r.a.createElement("td",{style:{width:"65"},className:"thRight"},r.a.createElement("p",null,"   \u0628\u0647 \u0622\u0642\u0627\u06cc:   ",v.selectedIssueAssignment.Person.Name," ",v.selectedIssueAssignment.Person.NamVaNameKhanevadegi)),r.a.createElement("td",{style:{width:"14"}},r.a.createElement("p",null,"\u0639\u0636\u0648 \u0634\u0645\u0627\u0631\u0647 : ",v.selectedIssueAssignment.PersonId)),r.a.createElement("td",{style:{width:"19"}},r.a.createElement("p",null,"\u062a\u062d\u0648\u06cc\u0644 \u06af\u0631\u062f\u06cc\u062f% \u062a\u0644\u0641\u0646 : 04132445040"))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"3",style:{width:"100"}},r.a.createElement("table",{style:{width:"100%"},dir:"rtl"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{width:"4"}},r.a.createElement("p",null,"\u0631\u062f\u06cc\u0641")),r.a.createElement("td",{style:{width:"42"}},r.a.createElement("p",null,r.a.createElement("strong",null,"\u0634\u0631\u062d"))),r.a.createElement("td",{colSpan:"2",style:{width:"15"}},r.a.createElement("p",null,r.a.createElement("strong",null,"\u0645\u0642\u062f\u0627\u0631 \u06cc\u0627 \u062a\u0639\u062f\u0627\u062f"))),r.a.createElement("td",{style:{width:"17"}},r.a.createElement("p",null,r.a.createElement("strong",null,"\u0628\u0647\u0627\u0621 \u0648\u0627\u062d\u062f"))),r.a.createElement("td",{style:{width:"16"}},r.a.createElement("p",null,r.a.createElement("strong",null,"\u0628\u0647\u0627\u0621 \u06a9\u0644")))),r.a.createElement("tr",null,r.a.createElement("td",{style:{width:"4"}},r.a.createElement("p",null,"1")),r.a.createElement("td",{style:{width:"42"}},r.a.createElement("p",null,v.selectedIssueAssignment.Description)),r.a.createElement("td",{colSpan:"2",style:{width:"15"}},r.a.createElement("p",null,"   ",v.selectedIssueAssignment.Quan,"   \u06a9\u06cc\u0644\u0648\u06af\u0631\u0645   ")),r.a.createElement("td",{style:{width:"17"}},r.a.createElement("p",null,"   ",G(v.selectedIssueAssignment.AnimalFood.PerUnitPrice),"  \u0631\u06cc\u0627\u0644  ")),r.a.createElement("td",{style:{width:"16"}},r.a.createElement("p",null,"  ",G(v.selectedIssueAssignment.TotalPrice),"   \u0631\u06cc\u0627\u0644   "))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"99",className:"thRight",style:{width:"80"}},r.a.createElement("p",null,r.a.createElement("strong",null,"\u062c\u0645\u0639 \u0628\u0647 \u062d\u0631\u0648\u0641 :"),ye.getText(v.selectedIssueAssignment.TotalPrice),"   \u0631\u06cc\u0627\u0644 "))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"4",style:{width:"51"}},r.a.createElement("p",null,r.a.createElement("strong",null,"\u0627\u0645\u0636\u0627\u0621 \u0635\u0627\u062d\u0628 \u06a9\u0627\u0644\u0627:"))),r.a.createElement("td",{colSpan:"3",style:{width:"48"}},r.a.createElement("p",null,r.a.createElement("strong",null,"\u0645\u062f\u06cc\u0631 \u0639\u0627\u0645\u0644 :")))))))))),r.a.createElement("br",null))}}]),a}(n.Component),ke=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={message:void 0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.action;switch(e){case I:this.login(this.getReturnUrl());break;case O:this.processLoginCallback();break;case P:var t=new URLSearchParams(window.location.search).get(S);this.setState({message:t});break;case j:this.redirectToProfile();break;case x:this.redirectToRegister();break;default:throw new Error("Invalid action '".concat(e,"'"))}}},{key:"render",value:function(){var e=this.props.action,t=this.state.message;if(t)return r.a.createElement("div",null,t);switch(e){case I:return r.a.createElement("div",null,"Processing login");case O:return r.a.createElement("div",null,"Processing login callback");case j:case x:return r.a.createElement("div",null);default:throw new Error("Invalid action '".concat(e,"'"))}}},{key:"login",value:function(){var e=Object(E.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={returnUrl:t},e.next=3,M.signIn(a);case 3:n=e.sent,e.t0=n.status,e.next=e.t0===T.Redirect?7:e.t0===T.Success?8:e.t0===T.Fail?11:13;break;case 7:return e.abrupt("break",14);case 8:return e.next=10,this.navigateToReturnUrl(t);case 10:return e.abrupt("break",14);case 11:return this.setState({message:n.message}),e.abrupt("break",14);case 13:throw new Error("Invalid status result ".concat(n.status,"."));case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"processLoginCallback",value:function(){var e=Object(E.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.href,e.next=3,M.completeSignIn(t);case 3:a=e.sent,e.t0=a.status,e.next=e.t0===T.Redirect?7:e.t0===T.Success?8:e.t0===T.Fail?11:13;break;case 7:throw new Error("Should not redirect.");case 8:return e.next=10,this.navigateToReturnUrl(this.getReturnUrl(a.state));case 10:return e.abrupt("break",14);case 11:return this.setState({message:a.message}),e.abrupt("break",14);case 13:throw new Error("Invalid authentication result status '".concat(a.status,"'."));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getReturnUrl",value:function(e){var t=new URLSearchParams(window.location.search).get(A);if(t&&!t.startsWith("".concat(window.location.origin,"/")))throw new Error("Invalid return url. The return url needs to have the same origin as the current page.");return e&&e.returnUrl||t||"".concat(window.location.origin,"/")}},{key:"redirectToRegister",value:function(){this.redirectToApiAuthorizationPath("".concat(R.IdentityRegisterPath,"?").concat(A,"=").concat(encodeURI(R.Login)))}},{key:"redirectToProfile",value:function(){this.redirectToApiAuthorizationPath(R.IdentityManagePath)}},{key:"redirectToApiAuthorizationPath",value:function(e){var t="".concat(window.location.origin).concat(e);window.location.replace(t)}},{key:"navigateToReturnUrl",value:function(e){window.location.replace(e)}}]),a}(n.Component),Ae=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={message:void 0,isReady:!1,authenticated:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.action;switch(e){case C:this.logout(this.getReturnUrl());break;case w:this.processLogoutCallback();break;case F:this.setState({isReady:!0,message:"\u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0632 \u0633\u06cc\u0633\u062a\u0645 \u062e\u0627\u0631\u062c \u0634\u062f\u06cc\u062f"}),setTimeout((function(){window.location="/"}),1e3);break;default:throw new Error("Invalid action '".concat(e,"'"))}this.populateAuthenticationState()}},{key:"render",value:function(){var e=this.state,t=e.isReady,a=e.message;if(!t)return r.a.createElement("div",null);if(a)return r.a.createElement("div",null,a);var n=this.props.action;switch(n){case C:return r.a.createElement("div",null,"\u062f\u0631 \u062d\u0627\u0644 \u062e\u0631\u0648\u062c \u0627\u0632 \u0633\u06cc\u0633\u062a\u0645");case w:return r.a.createElement("div",null,"Processing logout callback");case F:return r.a.createElement("div",null,a);default:throw new Error("Invalid action '".concat(n,"'"))}}},{key:"logout",value:function(){var e=Object(E.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={returnUrl:t},e.next=3,M.isAuthenticated();case 3:if(!e.sent){e.next=20;break}return e.next=7,M.signOut(a);case 7:n=e.sent,e.t0=n.status,e.next=e.t0===T.Redirect?11:e.t0===T.Success?12:e.t0===T.Fail?15:17;break;case 11:return e.abrupt("break",18);case 12:return e.next=14,this.navigateToReturnUrl(t);case 14:return e.abrupt("break",18);case 15:return this.setState({message:n.message}),e.abrupt("break",18);case 17:throw new Error("Invalid authentication result status.");case 18:e.next=21;break;case 20:this.setState({message:"\u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0632 \u0633\u06cc\u0633\u062a\u0645 \u062e\u0627\u0631\u062c \u0634\u062f\u06cc\u062f !"});case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"processLogoutCallback",value:function(){var e=Object(E.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.href,e.next=3,M.completeSignOut(t);case 3:a=e.sent,e.t0=a.status,e.next=e.t0===T.Redirect?7:e.t0===T.Success?8:e.t0===T.Fail?11:13;break;case 7:throw new Error("Should not redirect.");case 8:return e.next=10,this.navigateToReturnUrl(this.getReturnUrl(a.state));case 10:return e.abrupt("break",14);case 11:return this.setState({message:a.message}),e.abrupt("break",14);case 13:throw new Error("Invalid authentication result status.");case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"populateAuthenticationState",value:function(){var e=Object(E.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.isAuthenticated();case 2:t=e.sent,this.setState({isReady:!0,authenticated:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getReturnUrl",value:function(e){var t=new URLSearchParams(window.location.search).get(A);if(t&&!t.startsWith("".concat(window.location.origin,"/")))throw new Error("Invalid return url. The return url needs to have the same origin as the current page.");return e&&e.returnUrl||t||"".concat(window.location.origin).concat(R.LoggedOut)}},{key:"navigateToReturnUrl",value:function(e){return window.location.replace(e)}}]),a}(n.Component),Se=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(m.a,{path:R.Login,render:function(){return we(I)}}),r.a.createElement(m.a,{path:R.LoginFailed,render:function(){return we(P)}}),r.a.createElement(m.a,{path:R.LoginCallback,render:function(){return we(O)}}),r.a.createElement(m.a,{path:R.Profile,render:function(){return we(j)}}),r.a.createElement(m.a,{path:R.Register,render:function(){return we(x)}}),r.a.createElement(m.a,{path:R.LogOut,render:function(){return Ce(C)}}),r.a.createElement(m.a,{path:R.LogOutCallback,render:function(){return Ce(w)}}),r.a.createElement(m.a,{path:R.LoggedOut,render:function(){return Ce(F)}}))}}]),a}(n.Component);function we(e){return r.a.createElement(ke,{action:e})}function Ce(e){return r.a.createElement(Ae,{action:e})}var Fe=a(33),Ie=a(66),Oe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={ready:!1,authenticated:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this._subscription=M.subscribe((function(){return e.authenticationChanged()})),this.populateAuthenticationState()}},{key:"componentWillUnmount",value:function(){M.unsubscribe(this._subscription)}},{key:"render",value:function(){var e=this.state,t=e.ready,a=e.authenticated,n=document.createElement("a");n.href=this.props.path;var l="".concat(n.protocol,"//").concat(n.host).concat(n.pathname).concat(n.search).concat(n.hash),i="".concat(R.Login,"?").concat(A,"=").concat(encodeURI(l));if(t){var s=this.props,c=s.component,o=Object(Fe.a)(s,["component"]);return r.a.createElement(q.a,Object.assign({},o,{render:function(e){return a?r.a.createElement(c,e):r.a.createElement(Ie.a,{to:i})}}))}return r.a.createElement("div",null)}},{key:"populateAuthenticationState",value:function(){var e=Object(E.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.isAuthenticated();case 2:t=e.sent,this.setState({ready:!0,authenticated:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"authenticationChanged",value:function(){var e=Object(E.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({ready:!1,authenticated:!1}),e.next=3,this.populateAuthenticationState();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),Pe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(Q,null,r.a.createElement(Oe,{exact:!0,path:"/",component:B}),r.a.createElement(Oe,{path:"/setting",component:K}),r.a.createElement(Oe,{path:"/AnimalFoodPage",component:te}),r.a.createElement(Oe,{path:"/InventoryIn",component:he}),r.a.createElement(Oe,{path:"/BuyAnimalFood",component:fe}),r.a.createElement(Oe,{path:"/IssueAssignment",component:me}),r.a.createElement(Oe,{path:"/IssueAssignmentList",component:ge}),r.a.createElement(Oe,{path:"/BuyAnimalFoodList",component:be}),r.a.createElement(Oe,{path:"/InventoryStatus",component:ne}),r.a.createElement(Oe,{path:"/pagingComponent",component:ve}),r.a.createElement(Oe,{path:"/PrintIssueAssignment",component:Ee}),r.a.createElement(m.a,{path:R.ApiAuthorizationPrefix,component:Se}))}}]),a}(n.Component);Pe.displayName=Pe.name;var je=a(29),xe=a.n(je),Ne=document.getElementsByTagName("base")[0].getAttribute("href"),Re=document.getElementById("root");i.a.render(r.a.createElement(s.a,{basename:Ne},r.a.createElement(Pe,null)),Re),xe()()}},[[34,1,2]]]);
//# sourceMappingURL=main.ff125964.chunk.js.map